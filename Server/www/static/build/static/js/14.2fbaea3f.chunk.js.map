{"version":3,"sources":["assets/imgs/logo.svg","pages/home/components/resultContent.jsx","api/searchAPI.js","pages/home/home.jsx"],"names":["ResultContent","onClickFun","href","window","open","tags","tag","reg","getCardNodes","resultList","map","item","itemTags","itemTitle","title","match","replace","color","justify","style","marginBottom","xs","span","sm","md","lg","hoverable","onClick","headStyle","contain","this","props","result","loading","moreUrl","cardNodes","display","type","size","Component","reqSearch","key","ajax","Home","state","searchType","showState","searchValue","searchResult","searchResultLoading","searchTypeOptions","label","value","onSearch","setState","getSearchResult","a","message","info","onSearchTypeChange","e","target","divStyle","paddingTop","logoSpan","resultContentSpan","src","logo","height","alt","className","placeholder","onChange","onPressEnter","marginTop","Group","options","optionType","buttonStyle"],"mappings":"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","file":"static/js/14.2fbaea3f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c5189828.svg\";","import React, { Component } from 'react'\nimport { Card, Row, Col, Button, Spin, Tag } from 'antd';\n/*\n左侧导航的组件\n */\nexport default class ResultContent extends Component {\n  onClickFun = href=>()=>{window.open(href)}\n\n  tags = [{tag:'知乎', reg:/- 知乎$/},{tag:'官方', reg:/官方$/}]\n\n  getCardNodes = (resultList)=>{\n    return resultList.map(item => {\n      let itemTitle = item.title\n      let itemTags = null\n\n      itemTags = this.tags.map(item => {\n        const result = itemTitle.match(item.reg)\n        if(result){\n          itemTitle = itemTitle.replace(item.reg, ' ')\n          return <Tag color=\"blue\">{item.tag}</Tag>\n        }\n        return null\n      })\n      itemTitle = <span>{itemTags}{itemTitle}</span>\n\n      return (\n        <Row key={item.href} justify='center' style={{marginBottom:'10px'}}>\n          <Col xs={{ span: 22 }} sm={{ span: 22 }} md={{ span: 12 }} lg={{ span: 12 }}>\n            <Card title={itemTitle} hoverable={true}\n            onClick={this.onClickFun(item.href)} headStyle={{color:'rgb(24, 144, 255)'}}>\n              {item.contain}\n            </Card>\n          </Col>\n        </Row>\n      )\n    })\n  }\n\n  render() {\n    const {result, loading} = this.props\n    let resultList = []\n    let moreUrl = ''\n    let cardNodes = []\n    if(result['data']){\n      resultList = result['data']\n      moreUrl = result['moreUrl']\n      cardNodes = this.getCardNodes(resultList)\n    }\n    return (\n      <div>\n        <div style={loading?{display:'none'}:{display:'block'}}>\n          {cardNodes}\n          <Row justify='center' style={{marginBottom:'10px'}}>\n            <Col span={moreUrl!==''?'':0}>\n              <Button type=\"link\" href={moreUrl}>\n                点击查看更多\n              </Button>\n            </Col>\n          </Row>\n        </div>\n        <div style={loading?{display:'block'}:{display:'none'}}>\n          <Row justify='center' style={{marginBottom:'10px'}}>\n            <Col>\n              <Spin size='large'/>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}","/*\n包含应用中所有与搜索相关的api\n */\nimport ajax from './ajax'\n\n\n//搜索功能\nexport const reqSearch = (type, key) => {\n  return ajax('/api/search', {type, key}, 'POST')\n}","import React, { Component } from 'react'\nimport { Input, Row, Col, Radio, message } from 'antd'\n\nimport logo from '../../assets/imgs/logo.svg'\nimport ResultContent from './components/resultContent'\nimport { reqSearch } from '../../api/searchAPI'\n\nimport './home.less'\n\n/*\n首页的路由组件\n*/\nexport default class Home extends Component {\n  state = {\n    searchType: 'web',\n    showState: 'normal',\n    searchValue: '',\n    searchResult: {},\n    searchResultLoading: true,\n  }\n\n  searchTypeOptions = [\n    { label: '网页', value: 'web' },\n    { label: '文件', value: 'file' },\n  ];\n\n  onSearch = () => {\n    if (this.state.showState === 'normal') this.setState({ showState: 'search' })\n    this.getSearchResult()\n  }\n\n  getSearchResult = async (type = this.state.searchType) => {\n    this.setState({ searchResultLoading: true })\n    let searchResult = await reqSearch(type, this.state.searchValue)\n    if (searchResult['status'] === 0) {\n      this.setState({ searchResult: searchResult, searchResultLoading: false })\n    } else {\n      message.info(searchResult['errorMessage'])\n      this.setState({ searchResultLoading: false, showState: 'normal' })\n    }\n  }\n\n  onSearchTypeChange = e => {\n    this.setState({ searchType: e.target.value })\n    if (this.state.showState === 'search') this.getSearchResult(e.target.value)\n  }\n\n  render() {\n    //根据showState改变显示方式\n    let { showState } = this.state\n    let divStyle = { paddingTop: '200px' }\n    let logoSpan = ''\n    let resultContentSpan = 0\n    if (showState === 'search') {\n      divStyle = {}\n      logoSpan = 0\n      resultContentSpan = 24\n    }\n\n    return (\n      <div style={divStyle}>\n        {/* LOGO */}\n        <Row justify=\"center\" style={{ marginBottom: '10px' }}>\n          <Col span={logoSpan}>\n            <img src={logo} height=\"100\" alt=\"logo\"></img>\n          </Col>\n        </Row>\n        {/* 搜索框 */}\n        <Row justify=\"center\">\n          <Col xs={{ span: 22 }} sm={{ span: 22 }} md={{ span: 12 }} lg={{ span: 8 }}>\n            <Input className=\"search-input\" placeholder=\"填写内容，回车即可搜索\"\n              onChange={(e) => this.setState({ searchValue: e.target.value })}\n              onPressEnter={this.onSearch} />\n          </Col>\n        </Row>\n        {/* 类型选择框 */}\n        <Row justify=\"center\" style={{ marginTop: '10px' }}>\n          <Col span={logoSpan}>\n            <Radio.Group onChange={this.onSearchTypeChange} size=\"middle\" value={this.state.searchType}\n              options={this.searchTypeOptions} optionType=\"button\" buttonStyle=\"solid\" />\n          </Col>\n        </Row>\n        {/* 搜索内容展示框 */}\n        <Row justify=\"center\">\n          <Col span={resultContentSpan}>\n            <ResultContent searchType={this.state.searchType} result={this.state.searchResult}\n              loading={this.state.searchResultLoading} />\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}"],"sourceRoot":""}