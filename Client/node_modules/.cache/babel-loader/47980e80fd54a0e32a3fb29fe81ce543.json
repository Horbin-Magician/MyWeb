{"ast":null,"code":"import \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\n\n/*\n能发送异步ajax请求的函数模块\n函数返回promise对象\n */\nimport axios from 'axios';\nexport default function ajax(url, data = {}, type = 'GET') {\n  return new Promise(resolve => {\n    let promise;\n\n    if (type === 'GET') {\n      //发送GET请求\n      promise = axios.get(url, {\n        params: data\n      });\n    } else {\n      //发送POST请求\n      promise = axios.post(url, data);\n    }\n\n    promise.then(response => {\n      resolve(response.data);\n    }).catch(error => {\n      _message.error('请求出错：' + error.message);\n    });\n  });\n}","map":{"version":3,"sources":["/home/horbin/Project/Web/my-web/Client/src/api/ajax.js"],"names":["axios","ajax","url","data","type","Promise","resolve","promise","get","params","post","then","response","catch","error","message"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,eAAe,SAASC,IAAT,CAAcC,GAAd,EAAmBC,IAAI,GAAC,EAAxB,EAA4BC,IAAI,GAAC,KAAjC,EAAuC;AAClD,SAAO,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AAC5B,QAAIC,OAAJ;;AACA,QAAGH,IAAI,KAAK,KAAZ,EAAkB;AAAE;AAChBG,MAAAA,OAAO,GAAGP,KAAK,CAACQ,GAAN,CAAUN,GAAV,EAAe;AACrBO,QAAAA,MAAM,EAACN;AADc,OAAf,CAAV;AAGH,KAJD,MAIK;AAAE;AACHI,MAAAA,OAAO,GAAGP,KAAK,CAACU,IAAN,CAAWR,GAAX,EAAeC,IAAf,CAAV;AACH;;AACDI,IAAAA,OAAO,CAACI,IAAR,CAAaC,QAAQ,IAAI;AACrBN,MAAAA,OAAO,CAACM,QAAQ,CAACT,IAAV,CAAP;AACH,KAFD,EAEGU,KAFH,CAESC,KAAK,IAAI;AACd,eAAQA,KAAR,CAAc,UAAQA,KAAK,CAACC,OAA5B;AACH,KAJD;AAKH,GAdM,CAAP;AAeH","sourcesContent":["/*\n能发送异步ajax请求的函数模块\n函数返回promise对象\n */\nimport axios from 'axios'\nimport {message} from 'antd'\n\nexport default function ajax(url, data={}, type='GET'){\n    return new Promise((resolve) => {\n        let promise\n        if(type === 'GET'){ //发送GET请求\n            promise = axios.get(url, {\n                params:data\n            })\n        }else{ //发送POST请求\n            promise = axios.post(url,data)\n        }\n        promise.then(response => {\n            resolve(response.data)\n        }).catch(error => {\n            message.error('请求出错：'+error.message)\n        })\n    })\n}"]},"metadata":{},"sourceType":"module"}