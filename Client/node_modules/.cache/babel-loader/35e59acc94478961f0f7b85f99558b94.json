{"ast":null,"code":"import\"antd/es/modal/style\";import _Modal from\"antd/es/modal\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import\"antd/es/message/style\";import _message from\"antd/es/message\";import _classCallCheck from\"/home/horbin/Project/Web/my-web/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/horbin/Project/Web/my-web/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/horbin/Project/Web/my-web/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/horbin/Project/Web/my-web/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import\"antd/es/select/style\";import _Select from\"antd/es/select\";import React,{Component}from'react';import{reqAuthorityList}from'../../../../../api';/*\n管理-统计\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Option=_Select.Option;var AddForm=/*#__PURE__*/function(_Component){_inherits(AddForm,_Component);var _super=_createSuper(AddForm);function AddForm(props){var _this;_classCallCheck(this,AddForm);_this=_super.call(this,props);_this.formRef=/*#__PURE__*/React.createRef();_this.addUser=function(){_this.formRef.current.validateFields().then(function(values){_this.formRef.current.resetFields();_this.props.addUser(values.username,values.password,values.authority);}).catch(function(info){return _message.error('请正确填写信息！');});};_this.getOptions=function(authorityList){return authorityList.map(function(item){return/*#__PURE__*/_jsx(Option,{value:item.name,children:item.name},item.name);});};_this.state={};reqAuthorityList().then(function(data){_this.setState({options:_this.getOptions(data.data)});});return _this;}_createClass(AddForm,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(_Modal,{title:\"\\u6DFB\\u52A0\\u7528\\u6237\",visible:this.props.showStatus===1,onOk:this.addUser,onCancel:function onCancel(){_this2.props.addUser();},children:/*#__PURE__*/_jsxs(_Form,{ref:this.formRef,children:[/*#__PURE__*/_jsx(_Form.Item,{name:\"username\",rules:[{required:true,message:'请输入用户名'},{min:4,message:'用户名最少4位'},{max:12,message:'用户名最多12位'},{pattern:/^[a-zA-z0-9_*!]+$/,message:'用户名必须由英文、数字或英文字符_*!组成'}],children:/*#__PURE__*/_jsx(_Input,{placeholder:\"\\u7528\\u6237\\u540D\"})}),/*#__PURE__*/_jsx(_Form.Item,{name:\"password\",rules:[{required:true,message:'请输入密码！'},{min:6,message:'密码最少6位'},{max:16,message:'密码最多16位'},{pattern:/^[a-zA-z0-9_*!]+$/,message:'密码必须由英文、数字或英文字符_*!组成'}],children:/*#__PURE__*/_jsx(_Input,{type:\"password\",placeholder:\"\\u5BC6\\u7801\"})}),/*#__PURE__*/_jsx(_Form.Item,{name:\"authority\",initialValue:\"root\",children:/*#__PURE__*/_jsx(_Select,{children:this.state.options})})]})});}}]);return AddForm;}(Component);export{AddForm as default};","map":{"version":3,"sources":["/home/horbin/Project/Web/my-web/Client/src/pages/admin/manages/userManage/components/addForm.jsx"],"names":["React","Component","reqAuthorityList","Option","AddForm","props","formRef","createRef","addUser","current","validateFields","then","values","resetFields","username","password","authority","catch","info","error","getOptions","authorityList","map","item","name","state","data","setState","options","showStatus","required","message","min","max","pattern"],"mappings":"g6BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CAGA,OAAQC,gBAAR,KAA+B,oBAA/B,CACA;AACA;AACA,G,2FACQC,CAAAA,M,SAAAA,M,IAEaC,CAAAA,O,kGACjB,iBAAYC,KAAZ,CAAkB,yCACd,uBAAMA,KAAN,EADc,MAQlBC,OARkB,cAQRN,KAAK,CAACO,SAAN,EARQ,OAUlBC,OAVkB,CAUR,UAAI,CACV,MAAKF,OAAL,CAAaG,OAAb,CAAqBC,cAArB,GAAsCC,IAAtC,CAA2C,SAAAC,MAAM,CAAI,CACjD,MAAKN,OAAL,CAAaG,OAAb,CAAqBI,WAArB,GACA,MAAKR,KAAL,CAAWG,OAAX,CAAmBI,MAAM,CAACE,QAA1B,CAAoCF,MAAM,CAACG,QAA3C,CAAqDH,MAAM,CAACI,SAA5D,EACH,CAHD,EAICC,KAJD,CAIO,SAAAC,IAAI,QAAI,UAAQC,KAAR,CAAc,UAAd,CAAJ,EAJX,EAKH,CAhBiB,OAkBlBC,UAlBkB,CAkBL,SAACC,aAAD,CAAkB,CAC3B,MAAOA,CAAAA,aAAa,CAACC,GAAd,CAAkB,SAAAC,IAAI,CAAI,CAC7B,mBAAO,KAAC,MAAD,EAAwB,KAAK,CAAEA,IAAI,CAACC,IAApC,UAA2CD,IAAI,CAACC,IAAhD,EAAaD,IAAI,CAACC,IAAlB,CAAP,CACH,CAFM,CAAP,CAGH,CAtBiB,CAEd,MAAKC,KAAL,CAAa,EAAb,CACAvB,gBAAgB,GAAGS,IAAnB,CAAwB,SAAAe,IAAI,CAAI,CAC5B,MAAKC,QAAL,CAAc,CAACC,OAAO,CAAG,MAAKR,UAAL,CAAgBM,IAAI,CAACA,IAArB,CAAX,CAAd,EACH,CAFD,EAHc,aAMjB,C,0CAkBD,iBAAQ,iBACJ,mBACI,aAAO,KAAK,CAAC,0BAAb,CAAoB,OAAO,CAAE,KAAKrB,KAAL,CAAWwB,UAAX,GAAwB,CAArD,CACI,IAAI,CAAE,KAAKrB,OADf,CACwB,QAAQ,CAAE,mBAAI,CAAC,MAAI,CAACH,KAAL,CAAWG,OAAX,GAAqB,CAD5D,uBAGI,aAAM,GAAG,CAAE,KAAKF,OAAhB,wBACI,WAAM,IAAN,EAAW,IAAI,CAAC,UAAhB,CACA,KAAK,CAAE,CACH,CAACwB,QAAQ,CAAE,IAAX,CAAgBC,OAAO,CAAE,QAAzB,CADG,CAEH,CAACC,GAAG,CAAE,CAAN,CAAQD,OAAO,CAAE,SAAjB,CAFG,CAGH,CAACE,GAAG,CAAE,EAAN,CAASF,OAAO,CAAE,UAAlB,CAHG,CAIH,CAACG,OAAO,CAAE,mBAAV,CAA8BH,OAAO,CAAE,uBAAvC,CAJG,CADP,uBAQI,aAAO,WAAW,CAAC,oBAAnB,EARJ,EADJ,cAWI,WAAM,IAAN,EAAW,IAAI,CAAC,UAAhB,CACA,KAAK,CAAE,CACH,CAACD,QAAQ,CAAE,IAAX,CAAgBC,OAAO,CAAE,QAAzB,CADG,CAEH,CAACC,GAAG,CAAE,CAAN,CAAQD,OAAO,CAAE,QAAjB,CAFG,CAGH,CAACE,GAAG,CAAE,EAAN,CAASF,OAAO,CAAE,SAAlB,CAHG,CAIH,CAACG,OAAO,CAAE,mBAAV,CAA8BH,OAAO,CAAE,sBAAvC,CAJG,CADP,uBAQI,aAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,cAAnC,EARJ,EAXJ,cAqBI,WAAM,IAAN,EAAW,IAAI,CAAC,WAAhB,CAA4B,YAAY,CAAC,MAAzC,uBACI,uBAAS,KAAKN,KAAL,CAAWG,OAApB,EADJ,EArBJ,GAHJ,EADJ,CA+BH,C,qBAzDgC3B,S,SAAhBG,O","sourcesContent":["import React, {Component} from 'react'\nimport {Modal, Form, Input, Select,message} from 'antd'\n\nimport {reqAuthorityList} from '../../../../../api'\n/*\n管理-统计\n */\nconst { Option } = Select;\n\nexport default class AddForm extends Component{\n    constructor(props){\n        super(props)\n        this.state = {}\n        reqAuthorityList().then(data => {\n            this.setState({options : this.getOptions(data.data)})\n        })\n    }\n\n    formRef = React.createRef()\n\n    addUser = ()=>{\n        this.formRef.current.validateFields().then(values => {\n            this.formRef.current.resetFields();\n            this.props.addUser(values.username, values.password, values.authority)\n        })\n        .catch(info => message.error('请正确填写信息！'));\n    }\n\n    getOptions = (authorityList) =>{\n        return authorityList.map(item => {\n            return <Option key={item.name} value={item.name}>{item.name}</Option>\n        })\n    }\n\n    render(){\n        return(\n            <Modal title='添加用户' visible={this.props.showStatus===1} \n                onOk={this.addUser} onCancel={()=>{this.props.addUser()}}\n            >\n                <Form ref={this.formRef}>\n                    <Form.Item name=\"username\"\n                    rules={[\n                        {required: true,message: '请输入用户名'},\n                        {min: 4,message: '用户名最少4位'},\n                        {max: 12,message: '用户名最多12位'},\n                        {pattern: /^[a-zA-z0-9_*!]+$/,message: '用户名必须由英文、数字或英文字符_*!组成'},\n                    ]}\n                    >\n                        <Input placeholder=\"用户名\" />\n                    </Form.Item>\n                    <Form.Item name=\"password\"\n                    rules={[\n                        {required: true,message: '请输入密码！'},\n                        {min: 6,message: '密码最少6位'},\n                        {max: 16,message: '密码最多16位'},\n                        {pattern: /^[a-zA-z0-9_*!]+$/,message: '密码必须由英文、数字或英文字符_*!组成'},\n                    ]}\n                    >\n                        <Input type=\"password\" placeholder=\"密码\"/>\n                    </Form.Item>\n                    <Form.Item name=\"authority\" initialValue='root'>\n                        <Select>{this.state.options}</Select>\n                    </Form.Item>\n                </Form>\n            </Modal>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}